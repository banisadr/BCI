function y = filt(x)
%FILT Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.4 and the DSP System Toolbox 8.7.
% Generated on: 24-Feb-2015 03:13:52

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 32556;  % Sampling Frequency
    %
    % N      = 100;  % Order
    % Fstop1 = 70;   % First Stopband Frequency
    % Fpass1 = 80;   % First Passband Frequency
    % Fpass2 = 500;  % Second Passband Frequency
    % Fstop2 = 550;  % Second Stopband Frequency
    % Wstop1 = 1;    % First Stopband Weight
    % Wpass  = 1;    % Passband Weight
    % Wstop2 = 1;    % Second Stopband Weight
    % dens   = 20;   % Density Factor
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, [0 Fstop1 Fpass1 Fpass2 Fstop2 Fs/2]/(Fs/2), [0 0 1 1 0 ...
    %            0], [Wstop1 Wpass Wstop2], {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.245416964745831 -0.00956843301616203 ...
        -0.00962395768488012 -0.00966115245772216 -0.00958916321059034 ...
        -0.00948006140129065 -0.00924703757010347 -0.00898874663511372 ...
        -0.00861362319872529 -0.00821103313886452 -0.00768508357129647 ...
        -0.00713382897729567 -0.00646844864001027 -0.00578352399985594 ...
        -0.00498019319941661 -0.00415123737123252 -0.00321335780261928 ...
        -0.00227394696285849 -0.00125279152616414 -0.000191164002892647 ...
        0.000959563847818276 0.00213252185637657 0.00328450425528362 ...
        0.00452489354716913 0.00583152115308905 0.00711379784933573 ...
        0.00843474497670149 0.00972286325489427 0.0110568363216945 ...
        0.012350959494889 0.0136720282014629 0.0149334532353344 ...
        0.0162081611476575 0.0174156873229576 0.0186203409922866 ...
        0.0197458423051012 0.0208609825309116 0.0219311966863625 ...
        0.0230183705079992 0.0241594600958401 0.0247565540059688 ...
        0.025621659139761 0.0264175746235617 0.0270579466131746 0.02766909954163 ...
        0.0281311273370047 0.0285781621285237 0.0288764166203781 ...
        0.0291420572252078 0.029249063927155 0.0293246769105423 ...
        0.029249063927155 0.0291420572252078 0.0288764166203781 ...
        0.0285781621285237 0.0281311273370047 0.02766909954163 ...
        0.0270579466131746 0.0264175746235617 0.025621659139761 ...
        0.0247565540059688 0.0241594600958401 0.0230183705079992 ...
        0.0219311966863625 0.0208609825309116 0.0197458423051012 ...
        0.0186203409922866 0.0174156873229576 0.0162081611476575 ...
        0.0149334532353344 0.0136720282014629 0.012350959494889 ...
        0.0110568363216945 0.00972286325489427 0.00843474497670149 ...
        0.00711379784933573 0.00583152115308905 0.00452489354716913 ...
        0.00328450425528362 0.00213252185637657 0.000959563847818276 ...
        -0.000191164002892647 -0.00125279152616414 -0.00227394696285849 ...
        -0.00321335780261928 -0.00415123737123252 -0.00498019319941661 ...
        -0.00578352399985594 -0.00646844864001027 -0.00713382897729567 ...
        -0.00768508357129647 -0.00821103313886452 -0.00861362319872529 ...
        -0.00898874663511372 -0.00924703757010347 -0.00948006140129065 ...
        -0.00958916321059034 -0.00966115245772216 -0.00962395768488012 ...
        -0.00956843301616203 -0.245416964745831]);
end

y = step(Hd,x);


% [EOF]
